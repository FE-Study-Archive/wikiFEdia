# FE ìŠ¤í„°ë”” ë°œí‘œ ìë£Œ: ë°”ë‹ë¼ JSë¡œ Carousel ë§Œë“¤ê¸°

ê¸°ê°„: `2022.06.23` ~`2022.06.24`

[ì›ë³¸ ë ˆíŒŒì§€í† ë¦¬](https://github.com/JaeKP/mini-toy-projects/tree/master/carousel-slider)

<br>

## 1. í•™ìŠµ ë‚´ìš©

#### ë°”ë‹ë¼ JSë¡œ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ êµ¬í˜„í•œë‹¤.  

- `ëª¨ë“ˆí™” !!!!!!! `

- ê°ì²´ ìƒì„±ì í•¨ìˆ˜ë¥¼ í™œìš©í•˜ì—¬ ì»´í¬ë„ŒíŠ¸ë¥¼ êµ¬í˜„í•¨ìœ¼ë¡œì„œ, ì½”ë“œì˜ ê°€ë…ì„±ì„ ë†’ì¸ë‹¤. 

<br>

![mini-toy-projects-carousel-00](https://raw.githubusercontent.com/JaeKP/image_repo/main/img/mini-toy-projects-carousel-00.gif)

<br>

## 2. êµ¬í˜„ ê³¼ì •

```
â”œâ”€â”€ css
â”‚   â”œâ”€â”€ default.css
â”‚   â””â”€â”€ index.css
â”œâ”€â”€ js
â”‚   â”œâ”€â”€ components
â”‚   â”‚   â”œâ”€â”€ button.js
â”‚   â”‚   â”œâ”€â”€ card.js
â”‚   â”‚   â”œâ”€â”€ cardList.js
â”‚   â”‚   â””â”€â”€ carousel.js
â”‚   â””â”€â”€ index.js
â”œâ”€â”€ index.html
â””â”€â”€ READEME.md
```

<br>

### 1) HTML

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- css -->
  <link rel="stylesheet" href="./css/default.css">
  <link rel="stylesheet" href="./css/carousel.css">

  <title>Carousel</title>
</head>
<body>
  <div class="container">
  </div>
  <!-- axios ì„¤ì¹˜ -->
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

  <!-- js -->
   <script type="module" src="./js/index.js"></script>
</body>
</html>
```

- ëª¨ë“ˆì€ íŠ¹ìˆ˜í•œ í‚¤ì›Œë“œë‚˜ ê¸°ëŠ¥ê³¼ í•¨ê»˜ ì‚¬ìš©ë˜ê¸°ì— `<script type="module">` ê°™ì€ ì†ì„±ì„ ì„¤ì •í•´ì•¼ í•œë‹¤. 

- í•´ë‹¹ ìŠ¤í¬ë¦½íŠ¸ê°€ ëª¨ë“ˆì´ë€ ê±¸ ë¸Œë¼ìš°ì €ê°€ ì•Œ ìˆ˜ ìˆê²Œ í•´ì•¼ í•œë‹¤.

<br>

| Moduleì˜ ì¥ì                                                 |
| ------------------------------------------------------------ |
| **Moduleì€ ìì‹ ë§Œì˜ ìŠ¤ì½”í”„ê°€ ìˆë‹¤. ê·¸ë˜ì„œ ì „ì—­ ë³€ìˆ˜ ê´€ë¦¬ë¥¼ ì‰½ê²Œí•  ìˆ˜ ìˆë‹¤.** <br />Module Scopeë¥¼ ì‚¬ìš©í•˜ì—¬ ëª¨ë“ˆì˜ í•¨ìˆ˜ê°„ì— ë³€ìˆ˜ë¥¼ ê³µìœ í•  ìˆ˜ ìˆë‹¤. |
| ì–´ë””ì„œë“  ë™ì¼í•œ Moduleì„ ê³µìœ í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì¬ì‚¬ìš©ì„±ì´ ì¢‹ë‹¤. |
| ì½”ë“œë¥¼ ì‘ì€ íŒŒì¼ë¡œ ë¶„í•  í•  ìˆ˜ ìˆë‹¤.                          |

<br>

### 2) index.js

```javascript
import { Carousel } from "./components/carousel.js";

const containerElem = document.querySelector(".container")

// CardList ê´€ë ¨ data
const cardData = {
  url: "https://picsum.photos/v2/list",  // api ìš”ì²­ url
  width: "23vw",                         // ì¹´ë“œì»´í¬ë„ŒíŠ¸ì˜ ë„ˆë¹„
  height: "23vw",                        // ì¹´ë“œì»´í¬ë„ŒíŠ¸ì˜ ë†’ì´
  images: [],                            // ì´ë¯¸ì§€ ì •ë³´ 
  parentNode: containerElem,             // ë¶€ëª¨ ë…¸ë“œ (ê³„ì† ë³€ê²½ë  ì˜ˆì •)   
  id: "cl-1",                            // ì¹´ë“œ ë¦¬ìŠ¤íŠ¸ë¥¼ êµ¬ë¶„í•˜ê¸° ìœ„í•œ id  
};

// Carousel ìƒì„± í•¨ìˆ˜
const create = function (data) {
  axios({
    url: data.url,
    method: "get",
  }).then((response) => {
    data.images = response.data;
    new Carousel(data)
  });
};

create(cardData); 
create(cardData1); 

```

- **Carousel ì»´í¬ë„ŒíŠ¸ ìƒì„± ê³¼ì •**
  - Carouselìƒì„± ì¤‘ í•„ìš”í•œ ì •ë³´ë¥¼ ë‹´ì€ data ê°ì²´ë¥¼ ìƒì„±í•œë‹¤. 
  - Carouselì„ ìƒì„±í•˜ëŠ” í•¨ìˆ˜ë¥¼ í˜¸ì¶œ í•  ë•Œ,  ì¸ìë¡œ ìœ„ì— ë§Œë“  data ê°ì²´ë¥¼ ë„£ëŠ”ë‹¤.
  - Carousel ìƒì„±ì í•¨ìˆ˜ë¥¼ í†µí•´ í•´ë‹¹ ë°ì´í„°ë¥¼ ë°˜ì˜í•˜ëŠ” ìºëŸ¬ì…€ì´ êµ¬í˜„ëœë‹¤.

<br>

- **[LoremPicsum](https://picsum.photos/)ì´ë¼ëŠ” apië¥¼ í™œìš©í•˜ì—¬ ì´ë¯¸ì§€ë¥¼ ë°›ì•„ì˜¨ë‹¤.** 
  - ë°›ì•„ì˜¨ ì´ë¯¸ì§€ ë¦¬ìŠ¤íŠ¸ë¥¼ ì €ì¥í•˜ê³  Carousel ìƒì„±ì í•¨ìˆ˜ í˜¸ì¶œ!
  - ì´ë¯¸ì§€ ë¦¬ìŠ¤íŠ¸: ì—¬ëŸ¬ê°œì˜ ì´ë¯¸ì§€ ì •ë³´ë¥¼ ë‹´ì€ ê°ì²´ì˜ ë¦¬ìŠ¤íŠ¸


| [ì´ë¯¸ì§€ ë¦¬ìŠ¤íŠ¸]<br /><img src="https://raw.githubusercontent.com/JaeKP/image_repo/main/img/image-20220622175210458.png"> | [ì´ë¯¸ì§€ ì •ë³´ ê°ì²´]<br /><img src="https://raw.githubusercontent.com/JaeKP/image_repo/main/img/image-20220622175150145.png"> |
| ------------------------------------------------------------ | ------------------------------------------------------------ |

<br>

### 3) components

#### (1) Carousel 

DOMêµ¬ì¡°ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ìƒì„±ë  ê²ƒì´ë‹¤. 

```
â”œâ”€â”€ div .container
â”‚   â”œâ”€â”€ div .carousel
â”‚   â”‚   â”œâ”€â”€ div .card-list
â”‚   â”‚   â”‚    â”œâ”€â”€ div .card-item
â”‚   â”‚   â”‚    â”œâ”€â”€ div .card-item
â”‚   â”‚   â”‚    â”œâ”€â”€ div .card-itme
â”‚   â”‚   â”‚    â”œâ”€â”€ div .card-item
â”‚   â”‚   â”‚    â”œâ”€â”€ div .card-item
...
â”‚   â”‚   â”‚    â””â”€ div .card-item
â”‚   â”‚   â”œâ”€â”€ div .left
â”‚   â”‚   â””â”€â”€  div .right
â”‚   â”œâ”€â”€ div .carousel
...
```

- ë”°ë¼ì„œ carousel ìƒì„±í•˜ëŠ” ìƒì„±ì í•¨ìˆ˜ì—ì„œ CardListì™€ Buttonì€ ìƒì„±í•˜ëŠ” ìƒì„±ì í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œë‹¤.

- ì¸ìë¡œ ë°›ëŠ” dataê°ì²´ì—ì„œ parentNodeì†ì„±ì„ carousel íƒœê·¸ë¡œ ìˆ˜ì •í•œ ë’¤,  CardListì™€ Button ìƒì„±ì í•¨ìˆ˜ë¥¼ í˜¸ì¶œ í•  ë•Œ ì¸ìë¡œ ì „ë‹¬í•œë‹¤.

  ```javascript
   // ë¶€ëª¨ ë…¸ë“œ ì†ì„± ë°”ê¿”ì£¼ê¸°
    data.parentNode = this.carouselElem
    // CardList ì»´í¬ë„ŒíŠ¸ ìƒì„± 
    new CardList(data);
  
    // ë¶€ëª¨ ë…¸ë“œ ì†ì„± ë°”ê¿”ì£¼ê¸°
    data.parentNode = this.carouselElem
    // Button ì»´í¬ë„ŒíŠ¸ ìƒì„±
    new Button(data);
  ```

<br>

#### (2) CardList

```javascript
import { Card } from "./card.js";

function CardList(data) {
  // ...ìƒëµ 
  // parentNode ì†ì„± ë³€ê²½
  data.parentNode = this.cardListElem;
    
  // Card ì»´í¬ë„ŒíŠ¸ ìƒì„±
  this.cardCreate(data);
}

CardList.prototype = {
  prototype: CardList,
  cardCreate: function ({ images, width, height, parentNode }) {
    images.forEach(({ download_url }, index) => {
      const data = {
        width,
        height,
        parentNode,
        index: index,
        imageUrl: download_url,
      };
      // console.log(data)
      new Card(data);
    });
  },
};

export { CardList };

```

- **`cardCreate` ë©”ì„œë“œë¥¼ ìƒì„±í•˜ê³  í˜¸ì¶œì„ í•¨ìœ¼ë¡œì„œ,  ì—¬ëŸ¬ê°œì˜ ì¹´ë“œ ì»´í¬ë„ŒíŠ¸ë¥¼ ìƒì„±í•œë‹¤.** 
  - íŒŒë¼ë¯¸í„°ë¡œ ë„˜ì–´ì˜¨ ë°ì´í„° ì¤‘  image ë°°ì—´ì€ ì´ë¯¸ì§€ì— ëŒ€í•œ ë°ì´í„°ê°€ ë‹´ê²¨ì ¸ ìˆëŠ” ê°ì²´ì˜ ë°°ì—´ì´ë‹¤. 
  - image ë°°ì—´ì— `forEach`ë©”ì„œë“œë¥¼ í™œìš©í•˜ì—¬ ë°°ì—´ ìš”ì†Œ ê°ê° (ê°ê° ì´ë¯¸ì§€)ë¥¼ ìˆœíšŒí•œë‹¤. 
  - ìˆœíšŒí•  ë•Œë§ˆë‹¤, Card ìƒì„±ì í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œë‹¤.( ì¹´ë“œ ì»´í¬ë„ŒíŠ¸ êµ¬ì„±ì— í•„ìš”í•œ ë°ì´í„°ë¥¼ ì¬ê°€ê³µí•˜ì—¬ ì¸ìë¡œ ë„˜ê²¨ì¤€ë‹¤. )

<br>

#### (3) Card

```javascript
function Card({ width, height, index, imageUrl }) {
  this.divElem = document.createElement("div");
  this.divElem.style.width = width;
  this.divElem.style.height = height;
  this.divElem.style.backgroundImage = `url(${imageUrl})`;
  this.divElem.style.backgroundPosition = "center";
  this.divElem.style.backgroundSize = "cover";
  this.divElem.style.borderRadius = "0.5rem";

  this.divElem.classList.add(index);
  this.divElem.classList.add("card-item");

  // DOMì— ë°˜ì˜: document.querySelector(".card-list:last-child").appendChild(this.divElem);
  parentNode.appendChild(this.divElem);
}

export { Card };
```

- ë„˜ê²¨ë°›ì€ ë°ì´í„°ë¥¼ í™œìš©í•˜ì—¬ ì¹´ë“œì˜ css ì†ì„±ì„ ë³€ê²½í•œë‹¤.

- **`document.querySelector(".card-list:last-child").appendChild(this.divElem)`ë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì´ìœ **

  - querySelectorë¥¼ cardì˜ ê°œìˆ˜ë§Œí¼ ë°˜ë³µí•´ì•¼ í•œë‹¤.

  - querySelectorê°€ ì„±ëŠ¥ì´ ì¢‹ì§€ ì•Šë‹¤ê³  ë“¤ì–´ì„œ ì„±ëŠ¥ì— ì¢‹ì„ ê²ƒ ê°™ì§€ ì•Šë‹¤. 

  - ê·¸ë˜ì„œ CardListì—ì„œ Cardìƒì„±ì í•¨ìˆ˜ë¥¼ í˜¸ì¶œ í•  ë•Œ, parentNodeë¥¼ ì¸ìë¡œ ì „ë‹¬í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ìˆ˜ì •í–ˆë‹¤. 

    (ëª¨ë“  ì½”ë“œë¥¼ ì´ì™€ ê°™ì€ í˜•ì‹ìœ¼ë¡œ ìˆ˜ì •) => index.js, carousel.js, cardList.js, card.js, button.js


<br>

#### (3) Button 

**`ê³ ë ¤ ì‚¬í•­`**

| ê¸°ëŠ¥                                                         | **ì„¸ë¶€ ì •ë³´**                                                |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| **ë²„íŠ¼ì„ í´ë¦­ì‹œ CardListë¥¼ translateí•œë‹¤. (Xì¶•)**            | - ë²„íŠ¼ì„ í´ë¦­ ì‹œ, ì–´ë–¤ CardListë¥¼ ì´ë™ì‹œí‚¤ëŠ”ì§€ ì•Œì•„ì•¼ í•œë‹¤.  <br />- translate ë˜ëŠ” ë²”ìœ„ë¥¼ ê³„ì‚°í•´ì•¼ í•œë‹¤. <br />- í˜„ì¬ ì–¼ë§ˆë‚˜ translatedë˜ì—ˆëŠ”ì§€ ì•Œì•„ì•¼ í•œë‹¤. |
| **Buttonì€ ìºëŸ¬ì…€ ê¸°ì¤€ ìˆ˜ì§ ê°€ìš´ë°ì— ìœ„ì¹˜í•´ì•¼ í•œë‹¤.**        |                                                              |
| **resizeì´ë²¤íŠ¸ ë°œìƒ ì‹œ, CardListì™€ Buttonì„ ì¬ì¡°ì •í•´ì•¼ í•œë‹¤.** | - CardListì´ë™ì´ ì´ˆê¸°í™” ëœë‹¤. <br />- CardListì˜ ì‚¬ì´ì¦ˆë¥¼ ë°˜ì˜í•˜ì—¬ Buttonì˜ í¬ê¸°ì™€ ìœ„ì¹˜ê°€ ë³€ê²½ë˜ì–´ì•¼ í•œë‹¤. <br />- CardListê°€  translateë˜ëŠ” ë²”ìœ„ë„ ì¬ì¡°ì •í•´ì•¼ í•œë‹¤. |

<br>

ğŸ“Œ **ë²„íŠ¼ í´ë¦­ ì‹œ CardListë¥¼ tranlate í•œë‹¤.**

```javascript
    let cardListWidth = this.cardListElem.getBoundingClientRect().width;
    let totalCount = (cardListWidth - document.querySelector("body").offsetWidth) / 10;
    let count = this.cardListElem.getAttribute("data-count");

    this.leftButtonElem.addEventListener("click", () => {
        if (count == "0") return;
        count = +count - 1;
        this.cardListElem.setAttribute("data-count", `${count}`);
        this.cardListElem.style.transform = `translate3d(-${count * totalCount}px, 0, 0)`;
    });

    this.rightButtonElem.addEventListener("click", () => {
        if (count == "10") return;
        count = +count + 1;
        this.cardListElem.setAttribute("data-count", `${count}`);
        this.cardListElem.style.transform = `translate3d(-${count * totalCount}px, 0, 0)`;
    });
```

- **í•˜ë‚˜ì˜ ì¹´ë“œë¦¬ìŠ¤íŠ¸ë¥¼ 10ë²ˆìœ¼ë¡œ ë‚˜ëˆ„ì–´ ì´ë™ì‹œí‚¤ëŠ” ê²ƒìœ¼ë¡œ êµ¬í˜„** 

  | ë³€ìˆ˜            | ì„¤ëª…                               | ë¹„ê³                                                      |
  | --------------- | ---------------------------------- | -------------------------------------------------------- |
  | `cardListWidth` | ì¹´ë“œ ë¦¬ìŠ¤íŠ¸ì˜ ê¸¸ì´                 |                                                          |
  | `totalCount`    | í•œë²ˆ ì›€ì§ì¼ë•Œ ë§ˆë‹¤ ì´ë™ì‹œì¼œì•¼ ê¸¸ì´ | ( ì¹´ë“œ ë¦¬ìŠ¤íŠ¸ -  í˜„ì¬ ë¸Œë¼ìš°ì €ì— ë³´ì´ëŠ” í™”ë©´ ë„ˆë¹„ ) / 10 |
  | `count`         | CardListì˜ data-count ì†ì„± ê°’      | í˜„ì¬ ì–¼ë§ˆë‚˜ ìŠ¬ë¼ì´ë“œ ë˜ì—ˆëŠ”ì§€ ë³´ì—¬ì¤€ë‹¤.                  |

<br>

- **ë²„íŠ¼ì„ ëˆ„ë¥¼ë•Œ ë§ˆë‹¤ CardListë¥¼ xì¶•ìœ¼ë¡œ translateí•˜ê³  data-countì†ì„± ê°’ì„ ìˆ˜ì •í•œë‹¤.** 
  - ì˜¤ë¥¸ìª½ìœ¼ë¡œ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ CardListì˜  data-count ì†ì„±ì€ 1ì´ ì¦ê°€í•˜ê³  X ì¶•ìœ¼ë¡œ translate ëœë‹¤.
  - ì™¼ìª½ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´  CardListì˜ data-count ì†ì„±ì€ 1ì´ ê°ì†Œí•˜ê³  X ì¶•ìœ¼ë¡œ translate ëœë‹¤.
  - data-countê°€ 0ì´ë©´ ë”ì´ìƒ ì™¼ìª½ìœ¼ë¡œ ìŠ¬ë¼ì´ë“œ í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— ì¡°ê±´ë¬¸ìœ¼ë¡œ ë¶„ê¸°ë¥¼ ì²˜ë¦¬í–ˆë‹¤. 
  - data-countê°€ 10ì´ë˜ë©´ ë”ì´ìƒ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ìŠ¬ë¼ì´ë“œ í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— ì¡°ê±´ë¬¸ìœ¼ë¡œ ë¶„ê¸°ë¥¼ ì²˜ë¦¬ í–ˆë‹¤. 

<br>

ğŸ“Œ **Buttonì€ ìºëŸ¬ì…€ ê¸°ì¤€ ìˆ˜ì§ ê°€ìš´ë°ì— ìœ„ì¹˜í•´ì•¼ í•œë‹¤.**

```javascript
    setButtonSize: function () {
        const height = this.height;

        // ì™¼ìª½ ë²„íŠ¼ 
        this.leftButtonElem.style.fontSize = `calc(${height}/3)`;
        this.leftButtonElem.style.top = `calc(${height}/2 - ${height}/4.5)`;

        // ì˜¤ë¥¸ìª½ ë²„íŠ¼
        this.rightButtonElem.style.fontSize = `calc(${height}/3)`;
        this.rightButtonElem.style.top = `calc(${height}/2 - ${height}/4.5)`;
    },
```

<br>

ğŸ“Œ **resizeì´ë²¤íŠ¸ ë°œìƒ ì‹œ, CardListì™€ Buttonì„ ì¬ì¡°ì •í•´ì•¼ í•œë‹¤.** 

```javascript
    window.addEventListener("resize", () => {
        clearTimeout(this.resizeState);

        // ìºëŸ¬ì…€ ì´ë™ ì´ˆê¸°í™”
        this.cardListElem.setAttribute("data-count", 0);
        this.cardListElem.style.transform = "translate3d(0, 0, 0)";
        count = 0

        this.resizeState = setTimeout(()=> {
            // Button ì¡°ì •
            this.setButtonSize();

            // Carousel ì´ë™ ë²”ìœ„ì¡°ì •
            cardListWidth = this.cardListElem.offsetWidth;
            totalCount = (cardListWidth - document.querySelector("body").offsetWidth) / 10;
        }, 2000)
    });
```

- **resizeí•  ì‹œ, ìºëŸ¬ì…€ ì´ë™ì„ ì´ˆê¸°í™”í•œë‹¤.** 
  - CardListì˜ translate ì†ì„± ì´ˆê¸°í™”
  - CardListì˜ data-count ì†ì„±ì„ 0ìœ¼ë¡œ ë³€ê²½
  - ë³€ìˆ˜ countë¥¼ 0ìœ¼ë¡œ ì´ˆê¸°í™”


<br>

- **Button ìœ„ì¹˜ì™€  ìºëŸ¬ì…€ ì´ë™ ë²”ìœ„ë¥¼ í˜„ì¬ ë„ˆë¹„ ê¸°ì¤€ìœ¼ë¡œ ë³€ê²½í•œë‹¤.** 
  - `setTimeout`ì„ ì‚¬ìš©í•œ ì´ìœ ëŠ” 3-1)ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆë‹¤. 

<br>

## 3. ì˜¤ë¥˜

### 1) resizeì‹œ, offsetWidthì˜ ê°’ì„ ì œëŒ€ë¡œ ì½ì§€ ì•ŠëŠ”ë‹¤.

| [í•´ê²°ì „]<br /><img src="https://raw.githubusercontent.com/JaeKP/image_repo/main/img/image-20220624105359309.png" width="600px"> | [í•´ê²°í›„]<br /><img src="https://raw.githubusercontent.com/JaeKP/image_repo/main/img/image-20220624105410260.png" width="600px"> |
| ------------------------------------------------------------ | ------------------------------------------------------------ |

ì´ëŸ¬ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ëŠ” ì´ìœ ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤. (ë‚˜ì˜ ì¶”ì¸¡ ğŸ¤”)

- resizeì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ë©´ offsetWidthë¥¼ ì¡ê²Œ ë˜ëŠ”ë°, ì‹¤ì œë¡œ carousel ì‚¬ì´ì¦ˆê°€ ë³€ê²½ë˜ëŠ” ì‹œê°„ì— ë¹„í•´ ì´ë²¤íŠ¸ë¥¼ catchí•˜ëŠ” ì‹œê°„ì´ ë” ë¹ ë¥´ë‹¤.
- ì¦‰, ë³€ê²½ ë„ì¤‘ì— offsetWidthì˜ ê°’ì„ ê°€ì ¸ì˜¤ëŠ” ê²ƒì´ë‹¤. 

<br>

**`í•´ê²° ë°©ì•ˆ` : setTimeout()ì„ í™œìš©í•˜ì—¬  resize ì´ë²¤íŠ¸ê°€ ëë‚˜ê³  Crousel ì‚¬ì´ì¦ˆê°€ ì¡°ì •ì´ ëœ í›„ì— offsetWidthì˜ ê°’ì„ ì¡°íšŒí•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ìˆ˜ì •** 

```javascript
    window.addEventListener("resize", () => {
      clearTimeout(this.resizeState);

      // ìºëŸ¬ì…€ ì´ë™ ì´ˆê¸°í™”
      this.cardListElem.setAttribute("data-count", 0);
      this.cardListElem.style.transform = "translate3d(0, 0, 0)";
      count = 0
      
      this.resizeState = setTimeout(()=> {
      // ë²„íŠ¼ ì‚¬ì´ì¦ˆ ì¡°ì •
      this.setButtonSize();

      // ìºëŸ¬ì…€ ì´ë™ ì¡°ì •
      cardListWidth = this.cardListElem.offsetWidth;
      totalCount = (cardListWidth - document.querySelector("body").offsetWidth) / 10;
      }, 2000)
    });
```

- resize ì´ë²¤íŠ¸ê°€ ë°œìƒí•œ í›„, 2ì´ˆë™ì•ˆ resizeì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ì§€ ì•Šìœ¼ë©´ resizeì´ë²¤íŠ¸ê°€ ì¢…ë£Œë˜ì—ˆë‹¤ê³  ìƒê°í•œë‹¤.
- ì¢…ë£Œë˜ì—ˆì„ ë•Œ, Button ì‚¬ì´ì¦ˆì™€, Carousel ì´ë™ ë²”ìœ„ë¥¼ ì¡°ì •í•œë‹¤.

<br>

### 2) Button ì»´í¬ë„ŒíŠ¸ì˜ ìˆ˜ë‚œê¸°

#### (1) CardListì˜ ìì‹ íƒœê·¸ë¡œ Button ì»´í¬ë„ŒíŠ¸ë¥¼ ì¶”ê°€

Buttonì— `position: absolute`ë¥¼ ì£¼ì–´ í™”ë©´ì— ë§ê²Œ ìœ„ì¹˜í•˜ë„ë¡ ì¡°ì •í–ˆë‹¤. ì´ë ‡ê²Œ êµ¬í˜„í•˜ë‹ˆ ë°œìƒí•œ ë¬¸ì œì ì€ ë‹¤ìŒê³¼ ê°™ë‹¤. 

- CardListì˜ widthëŠ” ë¸Œë¼ìš°ì € í™”ë©´ì„ ë„˜ì–´ì„œ ê¸¸ê²Œ ì¡´ì¬í•˜ë‹¤ë³´ë‹ˆ  ì˜¤ë¥¸ìª½ ë²„íŠ¼ì„ í™”ë©´ì— ë”±ë§ê²Œ ìœ„ì¹˜í•˜ë„ë¡ ê³„ì‚°ì„ í•´ì•¼ í•œë‹¤.

  ```javascript
  this.rightButtonElem.style.left = `calc(${document.querySelector("body").offsetWidth}px - ${width} / 9.255)`;
  ```

<br>

- CardListê°€ xì¶•ìœ¼ë¡œ ì´ë™í•˜ë‹¤ë³´ë‹ˆ,  translateë¡œ ì´ë™ì‹œí‚¤ë©´ ë²„íŠ¼ë„ ê°™ì´ ì´ë™í•œë‹¤. 
  - ë²„íŠ¼ì€ ë¬´ì¡°ê±´ ë¸Œë¼ìš°ì € í™”ë©´ì—ì„œ ê³ ì •ëœ ìœ„ì¹˜ì— ìˆì–´ì•¼ í•œë‹¤. 


<br>

#### (2) ì˜¤.. ì´ë°©ë²•ì´ ì•„ë‹ˆêµ°! ê·¸ë ‡ë‹¤ë©´ fixedë¥¼ ì¨ì•¼í•˜ë‚˜..?

fixedëŠ” ViewPort ê¸°ì¤€ì´ê¸°ë•Œë¬¸ì— CardListì˜ yì¢Œí‘œë¥¼ êµ¬í•œ ë’¤, ì´ì— ë§ê²Œ ìœ„ì¹˜ë¥¼ ì¡°ì •ì„ í–ˆë‹¤.

```javascript
  setButtonSize: function () {
    const height = this.height;
    const top = this.cardListElem.getBoundingClientRect().top + "px"

    this.leftButtonElem.style.fontSize = `calc(${height}/3)`;
    this.leftButtonElem.style.top = top;

    this.rightButtonElem.style.fontSize = `calc(${height}/3)`;
    this.rightButtonElem.style.top = top;
  },
```

- ì•„.ë¿”.ì‚¬. `position: fixed`ëŠ” yì¶•ìœ¼ë¡œ ìŠ¤í¬ë¡¤í•´ë„ vp ê¸°ì¤€ì´ê¸° ë•Œë¬¸ì— ê·¸ëŒ€ë¡œ ë”°ë¼ì˜¨ë‹¤. 
- í•´ë‹¹ ë²„íŠ¼ì€ ìºëŸ¬ì…€ì´ ìˆëŠ” ë²”ìœ„ì—ë§Œ ìˆì–´ì•¼í•œë‹¤. ê·¸ë˜ì„œ `position: fixed`ë¡œ êµ¬í˜„í•˜ëŠ” ê²ƒì€ ì˜ëª»ëœ ë°©ì‹ì´ì˜€ë‹¤. 

<br>

#### (3) ê²°êµ­,  absoluteë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë§êµ¬ë‚˜! (Carousel íƒœê·¸ ì¶”ê°€)

ì´ì „ì— í–ˆë˜ ë°©ì‹ê³¼ ë‹¬ë¦¬ CardListì˜ ìì‹ìœ¼ë¡œ Buttonì„ ì¶”ê°€í•˜ëŠ” ê²ƒì´ ì•„ë‹Œ ê·¸ ìƒìœ„ì˜ ìš”ì†Œì— ì¶”ê°€í•˜ë©´ ëœë‹¤.

**ê·¸ë˜ì„œ CardListì— Carouselì´ë¼ëŠ” ë¶€ëª¨ë¥¼ ì¶”ê°€í•˜ì—¬ Carouselì˜ ìì‹ìœ¼ë¡œ Buttonì„ ì¶”ê°€í–ˆë‹¤. (í˜„ì¬ë°©ì‹)** 

```css
.carousel {
  position: relative;
  width: 100%;
  overflow-x: hidden;
}

.left, .right {
  position: absolute;
  cursor: pointer;
  color: rgba(255, 255, 255, 0.7);
  transition: 1s;
  z-index: 2;
}

.right {
  right: 0;
}
```

<br>

```javascript
  setButtonSize: function () {
    const height = this.height;

    // ì™¼ìª½ ë²„íŠ¼ 
    this.leftButtonElem.style.fontSize = `calc(${height}/3)`;
    this.leftButtonElem.style.top = `calc(${height}/2 - ${height}/4.5)`;

    // ì˜¤ë¥¸ìª½ ë²„íŠ¼
    this.rightButtonElem.style.fontSize = `calc(${height}/3)`;
    this.rightButtonElem.style.top = `calc(${height}/2 - ${height}/4.5)`;
  },
```

- ê°„ë‹¨í•˜ê²Œ êµ¬í˜„ì´ ê°€ëŠ¥í•˜ë‹¤.  Buttonì˜ topë§Œ ìˆ˜ì§ ê°€ìš´ë°ì— ìœ„ì¹˜í•˜ë„ë¡ jsë¡œ ê³„ì‚°í•˜ì—¬ ì¶”ê°€í–ˆë‹¤. 

<br>