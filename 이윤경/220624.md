## **GIT 이란?**

VCS(Version Control System)란 종류의 프로그램 중 하나!

모든 버전들을 저장하면 프로젝트가 커질 수록 용량이 커진다!

시간에 관련된 이슈 : Ver2. 에서만 문제가 생겨서 딱 그것만 찾아서 취소해야 한다면?

차원과 관련된 이슈 : 내 아이디어를 회사 작업에 추가해야한다면?, 여러 아이디어를 나중에 한번에 메인 프로젝트에 합체시킨다면? 같은 부분을 고쳤을 때는 어떻게 확인해야할까?

<br>

 -> 깃을 사용해서 쉽게 해결 가능!! Git은 프로젝트의 버전을 언제든 되돌릴 수 있고, 다른 폴더에서 작업하는 것처럼 여러 모드로 자유롭게 전환하고 변경사항들을 쉽게 이동시킬 수 있다. 또한 협업과정에서도 중요한 기능을 제공한다!

<br>

## CLI vs GUI

- 터미널에 명령어를 이용하는 CLI 방식

- 소스트리 등의 프로그램을 사용하는 GUI 방식

<br>

Git에서 무언가를 실행하기 위한 어떤 명령들을 사용할 때는 CLI, 프로젝트의 상태를 Git상에서 자세히 살펴보아야 할 때는 소스트리를 사용하기도 한다.

<br>

공부할 때는 일단 CLI 위주로 실습하는게 좋다!

<br>

## Git 설정 & 프로젝트 관리 시작하기

### Git 최초 설정 

Git 전역으로 사용자 이름과 이메일 주소를 설정 (GitHub 계정과는 별계!)

`git config --global user.name "(본인 이름)"`

`git config --global user.email "(본인 이메일)"`



아래의 명령어들로 확인 가능!

`git config --global user.name`

`git config --global user.email`



기본 브랜치명 변경 : 깃은 기본 브랜치이름이 master 또는 slave로 되어있는데 흑인 노예들을 연상시키는 단어라서 새로운 단어로 변경하는 것이 추세이다.

`git config --global init.defaultBranch main`

<br>

### 프로젝트 생성 & Git 관리 시작

폴더를 생성하고 VS Code로 열람한다.

해당 폴더에서 `git init` 

-> 폴더에 숨김모드로 .git폴더가 생성된다. 이 폴더를 지우면 Git 관리 내역이 삭제된다.

파일의 변경된 내용을 저장 후 

`git status`

를 누르면, 변경된 파일을 보여준다.

<br>

### Git에게 맡기지 않을 것들

#### 포함할 **필요가 없을** 때

> 자동으로 생성 또는 다운로드되는 파일들 (빌드 결과물, 라이브러리)

#### 포함하지 **말아야 할** 때

> 보안상 민감한 정보를 담은 파일

<br>

.gitignore파일을 사용해서 배제할 요소를 지정할 수 있다.

파일 안에 배제시킬 파일의 이름을 넣은 후, 저장하면 됨! 

`git status`를 해보면 무시가 되는 것을 확인 가능

<br>

**.gitignore의 형식!**

```python
# 이렇게 #를 사용해서 주석

# 모든 file.c
file.c

# 최상위 폴더의 file.c
/file.c

# 모든 .c 확장자 파일
*.c

# .c 확장자지만 무시하지 않을 파일
!not_ignore_this.c

# logs란 이름의 파일 또는 폴더와 그 내용들
logs

# logs란 이름의 폴더와 그 내용들
logs/

# logs 폴더 바로 안의 debug.log와 .c 파일들
logs/debug.log
logs/*.c

# logs 폴더 바로 안, 또는 그 안의 다른 폴더(들) 안의 debug.log
logs/**/debug.log
```



## 변화를 타임캡슐에 담아 묻기

### 프로젝트의 변경사항들을 타임캡슐(버전)에 담기(add)

**변경사항 확인**

- `git status`

추적하지 않는(untracked) 파일(Git의 관리에 들어간 적 없는 파일)이 보인다.

**파일 하나 담기**

- `git add 파일이름`

**모든 파일 담기**

- `git add .`

<br>

### 타임캡슐 묻기(commit)

`git commit`

의 명령어를 누르면 Vi입력 모드로 진입한다.(Vim) - 마우스를 사용할 수 없음!

| 작업                | Vi 명령어 | 상세                                         |
| ------------------- | --------- | -------------------------------------------- |
| 입력 시작           | **i**     | 명령어 입력 모드에서 텍스트 입력 모드로 전환 |
| 입력 종료           | `ESC`     | 텍스트 입력 모드에서 명령어 입력 모드로 전환 |
| 저장 없이 종료      | **:q**    |                                              |
| 저장 없이 강제 종료 | **:q!**   | 입력한 것이 있을 때 사용                     |
| 저장하고 종료       | **:wq**   | 입력한 것이 있을 때 사용                     |
| 위로 스크롤         | **k**     | `git log`등에서 내역이 길 때 사용            |
| 아래로 스크롤       | **j**     | `git log`등에서 내역이 길 때 사용            |

- `FIRST COMMIT`(커밋 메세지) 입력한 뒤 저장하고 종료

<br>

커밋 메시지까지 같이 작성하려면-

- `git commit -m "FIRST COMMIT"`

로그를 아래 명령어 또는 소스트리로 확인 가능하다!

- `git log`

<br>

`add`와 `commit`를 한꺼번에 하는 명령어

- `git commit -am "(메시지)"`

<br>

## 과거로 돌아가는 두 가지 방법

Git에서 과거로 돌아가는 두 방식이 있다.

- **reset** : 원하는 시점으로 돌아간 뒤 이후 내역들을 지움!
- **revert** : 되돌리기 원하는 시점의 커밋을 거꾸로 실행!
  - 변화를 거꾸로 수행하는 캡슐을 하나 넣는다! 결과적으로 이전과 같은 버전이 되지만, 이런 것 하나하나도 기록으로 남길 필요가 있을 때 사용.
  - 이전 커밋들은 유지하되, 전전커밋에 실행했던 내용만 취소해야 하는경우! revert를 이용하면 전전커밋에 작업했던 내용들만 거꾸로 실행하여 이후의 내역들은 유지하면서 되돌릴 수 있게 된다.
  - 협업시 공유 공간에 올라간 내용들을 삭제해버리면 심각한 충돌이 일어나기 때문에 한번 공유가 된 커밋들은 `revert`로 되돌려야 한다.

<br>

### reset 사용하여 과거로 돌아가기

커밋 내역 확인

- `git log`

  >되돌아갈 시점: `Add team Cheetas`의 커밋 해시 복사
  >
  >`:q`로 빠져나가기

돌아가기

- `git reset --hard (돌아갈 커밋 해시)`

<br>

### reset 하기 전 시점으로 복원해보기

현 커밋 상태로 초기화 (뒤에 커밋 해시가 없으면 마지막 커밋을 가리킴!)

`git reset --hard`

<br>

### revert로 과거의 커밋 되돌리기

- `git revert (되돌릴 커밋 해시)`

  > 이미 커밋 메세지가 적혀있음, 추가할 거 있음 추가하고,
  >
  > `:wq`로 커밋 메시지 저장

**만약 되돌릴 커밋에서 A파일을 생성하고 B파일을 수정하였는데, 되돌릴 커밋보다 최근 커밋에서 A파일을 수정했다면 revert를 사용시 A파일을 삭제하는 과정에서 충돌이 난다!**

- `git rm leopards.yaml`로 Git에서 해당 파일 삭제
- `git revert --continue`로 마무리
- `:wq`로 커밋 메시지 저장

이러면 최근 커밋에서 수정한 A파일로 다시 생성됨을 볼 수있음!

<br>

### **커밋해버리지 않고** revert하기

다른 변화와 함께 커밋하고 싶을 때!!

- `git revert --no-commit (되돌릴  커밋 해시)`

  >원하는 다른 작업을 추가한 다음 함께 커밋
  >
  >취소하려면 `git reset --hard`